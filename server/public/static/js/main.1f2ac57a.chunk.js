(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return j})),t.d(n,"d",(function(){return l}));var r,c,o,i,a=t(29),d=t(12),s=Object(d.gql)(r||(r=Object(a.a)(["\nquery GetAuthors{\n    authors{\n        name\n        id\n       \n    }\n}\n"]))),u=Object(d.gql)(c||(c=Object(a.a)(["\nquery GetBooks{\n    books{\n        name\n        id\n        genre\n        \n    }\n}"]))),j=Object(d.gql)(o||(o=Object(a.a)(["\nmutation AddBook(\n    $name: String!, \n    $genre: String!, \n    $authorId: ID!\n    ) {\n      addBook(name: $name,\n         genre: $genre,\n          authorId: $authorId\n          ) {\n          name\n          id\n          }\n}"]))),l=Object(d.gql)(i||(i=Object(a.a)(["\n    query GetBook($id: ID){\n        book(id: $id) {\n            id\n            name\n            genre\n            author{\n                id\n                name\n                age\n                books {\n                    name\n                    id\n                }\n            }\n        }\n    }\n"])))},60:function(e,n,t){},68:function(e,n,t){"use strict";t.r(n);var r=t(4),c=t.n(r),o=t(52),i=t.n(o),a=(t(60),t(12)),d=t(31),s=t(22),u=t(21),j=t(3),l=function(e,n){return e?Object(j.jsx)("option",{disabled:!0,children:"Loading authors"}):n.authors.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))},b=function(){var e=Object(r.useState)(""),n=Object(s.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),i=Object(s.a)(o,2),d=i[0],b=i[1],h=Object(r.useState)(""),O=Object(s.a)(h,2),x=O[0],g=O[1],m=Object(a.useQuery)(u.a),f=m.loading,k=m.data,p=Object(a.useMutation)(u.c),v=Object(s.a)(p,2),y=v[0];v[1].dataMutation;return Object(j.jsxs)("form",{id:"add-book",onSubmit:function(e){e.preventDefault();var n={name:t,genre:d,authorId:x};console.log(n),y({variables:{name:t,genre:d,authorId:x},refetchQueries:[{query:u.b}]})},children:[Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("label",{children:"Book name:"}),Object(j.jsx)("input",{type:"text",value:t,onChange:function(e){return c(e.target.value)}})]}),Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("label",{children:"Genre:"}),Object(j.jsx)("input",{type:"text",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("label",{children:"Author:"}),Object(j.jsxs)("select",{value:x,onChange:function(e){return g(e.target.value)},children:[Object(j.jsx)("option",{children:"Select author"}),l(f,k)]})]}),Object(j.jsx)("button",{children:"+"})]})},h=t(69).BookList,O=new a.ApolloClient({uri:"/graphql",cache:new a.InMemoryCache});var x=function(){return Object(j.jsx)(d.ApolloProvider,{client:O,children:Object(j.jsxs)("div",{id:"main",children:[Object(j.jsx)("h1",{children:"Inaam Reading List"}),Object(j.jsx)("br",{}),Object(j.jsx)(h,{}),Object(j.jsx)(b,{})]})})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,70)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),o(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),g()},69:function(e,n,t){"use strict";t.r(n),t.d(n,"BookList",(function(){return j}));var r=t(22),c=t(4),o=t(12),i=t(21),a=t(3),d=function(e,n,t){return e?Object(a.jsx)("p",{children:"loading..."}):t?Object(a.jsx)("p",{children:"Something went wrong.."}):n.book?Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:n.book.name}),Object(a.jsx)("p",{children:n.book.genre}),Object(a.jsxs)("p",{children:[" ",Object(a.jsx)("span",{children:"Author name: "})," ",n.book.author.name]}),Object(a.jsx)("p",{children:"All the books by the author: "}),Object(a.jsx)("ul",{className:"other-books",children:n.book.author.books.map((function(e){return Object(a.jsx)("li",{children:e.name},e.id)}))})]}):Object(a.jsx)("div",{children:"No data to display.."})},s=function(e){var n=Object(o.useQuery)(i.d,{variables:{id:e.bookId}}),t=n.loading,r=n.data,c=n.error;return Object(a.jsxs)("div",{id:"book-details",children:[Object(a.jsx)("p",{children:"OutPut here"}),d(t,r,c)]})},u=function(e){var n=e.loading,t=e.error,r=e.data,c=e.selectBook;return n?Object(a.jsx)("p",{children:"Loading...."}):t?Object(a.jsx)("p",{children:"Something went wrong"}):r.books.map((function(e){return Object(a.jsx)("li",{onClick:function(){return c(e.id)},children:e.name},e.id)}))},j=function(){var e=Object(c.useState)(null),n=Object(r.a)(e,2),t=n[0],d=n[1],j=Object(o.useQuery)(i.b),l=j.loading,b=j.error,h=j.data;return Object(a.jsxs)("div",{id:"book-list",children:[Object(a.jsx)("li",{children:Object(a.jsx)(u,{loading:l,error:b,data:h,selectBook:function(e){return d(e)}})}),Object(a.jsx)(s,{bookId:t})]})}}},[[68,1,2]]]);
//# sourceMappingURL=main.1f2ac57a.chunk.js.map